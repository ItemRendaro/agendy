(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{323:function(t,s,a){"use strict";a.r(s);var n=a(14),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ios-universal-links-調査"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ios-universal-links-調査"}},[t._v("#")]),t._v(" iOS Universal Links 調査")]),t._v(" "),s("h2",{attrs:{id:"universal-links-技術フロー-関連付け-実行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#universal-links-技術フロー-関連付け-実行"}},[t._v("#")]),t._v(" Universal Links 技術フロー（関連付け～実行）")]),t._v(" "),s("div",{staticClass:"language-plantuml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plantuml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("@startuml")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("title")]),t._v(" Universal Links 技術フロー（関連付け～実行）\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("actor")]),t._v(" User\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Link Source\\n(メッセージ/メール/SNS/ブラウザ等)"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Source\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iOS"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" SWCD\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Apple CDN"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" CDN\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Web Server\\n(Origin)"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Web\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Safari"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iOS App"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" App\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"App Store"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Store\n\n"),s("span",{pre:!0,attrs:{class:"token divider important"}},[t._v("== 初回の関連付け（アプリ導入直後/初回起動時など） ==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" right of App\nAssociated Domains に\napplinks"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("example.com\n（開発時は ?mode=developer 併用可）\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("alt")]),t._v(" 開発モード（?mode=developer）\n  SWCD "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" Web"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" GET "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("/.")]),t._v("well-known/apple-app-site-association\n  Web "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" SWCD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200 application/json（AASA）\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" 本番（リリース）\n  SWCD "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" CDN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" GET /a/v1/example.com\n  CDN "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" Web"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" （必要に応じてオリジン取得/更新）\n  CDN "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" SWCD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200 application/json（AASA）\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\nSWCD "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" SWCD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" AASA検証（appID / paths"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" components 等）\nSWCD "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 関連付け結果を登録\n\n"),s("span",{pre:!0,attrs:{class:"token divider important"}},[t._v("== ユーザーがユニバーサルリンクをタップ ==")]),t._v("\nUser "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" Source"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" タップ https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//example.com"),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("/...")]),t._v("\nSource "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" SWCD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ユニバーサルリンク解決要求\nSWCD "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" SWCD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ドメイン/パスをAASAで照合\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("alt")]),t._v(" アプリがインストール済み かつ パス一致\n  SWCD "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" open via NSUserActivityTypeBrowsingWeb\n  App "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DeepLinkRouter.handle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" right of App\n  SceneDelegate / AppDelegate / SwiftUI の\n  onContinueUserActivity で受信し画面遷移\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" 未インストール または パス不一致\n  SWCD "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" Safari"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//example.com"),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("/...")]),t._v(" を開く\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("opt")]),t._v(" Web側でSmart App Banner等を表示（任意）\n    Safari "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" Store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Appページを開く（ユーザー操作）\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token divider important"}},[t._v("== ユーザーの既定動作 ==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("opt")]),t._v(" ユーザーが以前「Safariで開く」を選択\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" right of Safari\n  同一リンクは以後Safari優先\n  （長押しで「Appで開く」を再選択可）\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token divider important"}},[t._v("== 厳守事項（AASA配信） ==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" over Web\n・HTTPS必須、200直返し、拡張子なし\n・Content-Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" application/json\n・AASAパスでのリダイレクト禁止\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("@enduml")]),t._v("\n")])])]),s("h2",{attrs:{id:"呼び出しアプリ→ユニバーサルリンク→受け入れアプリ-呼び出しフロー"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#呼び出しアプリ→ユニバーサルリンク→受け入れアプリ-呼び出しフロー"}},[t._v("#")]),t._v(" 呼び出しアプリ→ユニバーサルリンク→受け入れアプリ 呼び出しフロー")]),t._v(" "),s("div",{staticClass:"language-plantuml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plantuml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("@startuml")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("title")]),t._v(" 呼び出しアプリ→ユニバーサルリンク→受け入れアプリ 呼び出しフロー\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("actor")]),t._v(" User\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"呼び出しアプリ"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" B\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iOS (System / swcd)"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" iOS\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AASA配信\\n(Apple CDN / Web)"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" AASA\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"受け入れアプリ"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" A\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Safari"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Safari\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("participant")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"App Store"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Store\n\nUser "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ボタンタップ「受け入れアプリを開く」\nB "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ユニバーサルリンクURL生成（https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//example.com"),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("/...")]),t._v("）\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" right of B "),s("span",{pre:!0,attrs:{class:"token color symbol"}},[t._v("#FFEECC")]),t._v("\nA.要アプリ実装"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ボタン処理とURL生成"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\nB "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" iOS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" UIApplication"),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v(".o")]),t._v("pen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" right of B "),s("span",{pre:!0,attrs:{class:"token color symbol"}},[t._v("#FFEECC")]),t._v("\nB.要アプリ実装"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("open呼び出しとフォールバック"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n\niOS "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" iOS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" AASA照合（キャッシュ）\niOS "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" AASA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ※必要時のみAASA取得（簡易）\nAASA "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" iOS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200 JSON（簡易）\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" over AASA "),s("span",{pre:!0,attrs:{class:"token color symbol"}},[t._v("#FFDDE0")]),t._v("\nF.要サーバー実装"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AASAをHTTPS/200 JSONで配信"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("alt")]),t._v(" 受け入れアプリがインストール済み ＋ パス一致\n  iOS "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NSUserActivityTypeBrowsingWeb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" right of A "),s("span",{pre:!0,attrs:{class:"token color symbol"}},[t._v("#FFEECC")]),t._v("\n  C.要アプリ実装"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("URL受信と保留"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n\n  A "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DeepLinkRouter.handle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" right of A "),s("span",{pre:!0,attrs:{class:"token color symbol"}},[t._v("#FFEECC")]),t._v("\n  D.要アプリ実装"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("URL解析とルーティング"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n\n  A "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 対象画面を表示\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" right of A "),s("span",{pre:!0,attrs:{class:"token color symbol"}},[t._v("#FFEECC")]),t._v("\n  E.要アプリ実装"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UI遷移の実行"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" 未インストール or パス不一致（またはSafari優先）\n  iOS "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" Safari"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//example.com"),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("/...")]),t._v(" を開く\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("opt")]),t._v(" Web側でApp誘導（任意）\n    Safari "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("->")]),t._v(" Store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Appページ表示（ユーザー操作）\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("@enduml")]),t._v("\n")])])]),s("h2",{attrs:{id:"universal-links-関係図-起点修正-分岐理由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#universal-links-関係図-起点修正-分岐理由"}},[t._v("#")]),t._v(" Universal Links 関係図（起点修正＋分岐理由）")]),t._v(" "),s("div",{staticClass:"language-plantuml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plantuml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("@startuml")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("title")]),t._v(" Universal Links 関係図（起点修正＋分岐理由）\n\nleft to right direction\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("actor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" USER\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rectangle")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Web Server"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" WEB\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Apple CDN"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" CDN\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iPhone"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" PHONE\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cloud")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Webサイト"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" SITE\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iPhone（受け入れアプリ）"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" APP\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("' 事前フロー（番号外）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" left of WEB\n事前：AASA配置\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("' 実行フロー（起点）")]),t._v("\nUSER "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" PHONE "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ① リンクをタップ\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("' AASA参照（キャッシュ／必要時取得）")]),t._v("\nWEB "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" CDN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ②\nCDN "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" PHONE "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ③\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("' 開き先（④の分岐理由を注記）")]),t._v("\nPHONE "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" APP "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ④\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" on link "),s("span",{pre:!0,attrs:{class:"token color symbol"}},[t._v("#FFEECC")]),t._v("\n条件：アプリインストール済み ＋\nAASA一致（ドメイン/パス等）\n→ 受け入れアプリ起動\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n\nPHONE "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" SITE "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ④\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("note")]),t._v(" on link "),s("span",{pre:!0,attrs:{class:"token color symbol"}},[t._v("#FFEECC")]),t._v("\n条件：未インストール／AASA不一致／\nユーザーがSafari優先を選択／\n"),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v(".o")]),t._v("pen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("universalLinksOnly"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("失敗時\n→ Webサイトを開く\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end note")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("@enduml")]),t._v("\n")])])]),s("h2",{attrs:{id:"参考url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考url"}},[t._v("#")]),t._v(" 参考URL")]),t._v(" "),s("ul",[s("li",[t._v("https://tech.yappli.io/entry/universal-links")]),t._v(" "),s("li",[t._v("https://qiita.com/omo_taku/items/4fd439fb8c02e999cc94")]),t._v(" "),s("li",[t._v("https://sg.wantedly.com/companies/wantedly/post_articles/305303")]),t._v(" "),s("li",[t._v("https://zenn.dev/hsylife/articles/72edd8b6234576")]),t._v(" "),s("li",[t._v("https://qiita.com/m-komatsu/items/2ca7cfa6426802ea9cb5")]),t._v(" "),s("li",[t._v("https://zenn.dev/ryodeveloper/articles/kame_ga_15_hiki")])])])}),[],!1,null,null,null);s.default=r.exports}}]);